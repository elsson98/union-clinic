<!DOCTYPE html>
<html lang="it">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Admin Dashboard - United Clinic</title>
	<link rel="stylesheet" href="styles.css">
	<link rel="stylesheet" href="dashboard.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="is-admin">
<div class="dashboard-container">
	<aside class="dashboard-sidebar">
		<div class="sidebar-header">
			<img src="logo.svg" alt="United Clinic Logo">
			<p class="sidebar-subtitle">Klinikë Mjekësore Multi-Specialistike</p>
			<p style="margin-top: 10px; font-weight: 600; color: var(--primary-color); font-size: 0.9rem;">Admin Panel</p>
		</div>
		<div class="user-info">
			<div class="user-avatar">
				<i class="fas fa-user-circle"></i>
			</div>
			<div class="user-details">
				<h3 id="username">Caricamento...</h3>
				<p id="user-role">Amministratore</p>
			</div>
		</div>
		<nav class="sidebar-nav">
			<ul>
				<li class="nav-item" data-target="dashboard-section">
					<a href="#"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
				</li>
				<li class="nav-item" data-target="reports-section">
					<a href="#"><i class="fas fa-file-medical"></i> Gestione Report</a>
				</li>
				<li class="nav-item" data-target="staff-section">
					<a href="#"><i class="fas fa-user-md"></i> Gestione Staff</a>
				</li>
				<li class="nav-item">
					<a href="inventory.html"><i class="fas fa-boxes"></i> Inventario</a>
				</li>
				<li class="nav-item" data-target="profile-section">
					<a href="#"><i class="fas fa-user-cog"></i> Profilo</a>
				</li>
			</ul>
		</nav>
		<div class="sidebar-footer">
			<button id="logout-btn" class="logout-btn">
				<i class="fas fa-sign-out-alt"></i> Logout
			</button>
		</div>
	</aside>
	<main class="dashboard-content">
		<section id="dashboard-section" class="content-section active">
			<div class="section-header">
				<h1>Admin Dashboard</h1>
				<p>Benvenuto nell'area di amministrazione di United Clinic</p>
			</div>
			<div class="stats-cards">
				<div class="stat-card">
					<div class="stat-icon">
						<i class="fas fa-file-medical"></i>
					</div>
					<div class="stat-info">
						<h3>Report Totali</h3>
						<p id="total-reports">0</p>
					</div>
				</div>
				<div class="stat-card">
					<div class="stat-icon">
						<i class="fas fa-users"></i>
					</div>
					<div class="stat-info">
						<h3>Pazienti</h3>
						<p id="total-patients">0</p>
					</div>
				</div>
				<div class="stat-card">
					<div class="stat-icon">
						<i class="fas fa-user-md"></i>
					</div>
					<div class="stat-info">
						<h3>Staff</h3>
						<p id="total-staff">0</p>
					</div>
				</div>
			</div>
			<div class="recent-activity">
				<div class="section-header">
					<h2>Attività Recenti</h2>
				</div>
				<div class="activity-list" id="recent-activities">
					<div class="loading">Caricamento attività...</div>
				</div>
			</div>
		</section>
		<section id="reports-section" class="content-section">
			<div class="section-header">
				<h1>Gestione Report</h1>
				<button id="new-report-btn" class="action-btn">
					<i class="fas fa-plus"></i> Nuovo Report
				</button>
			</div>
			<div class="filters-bar">
				<div class="search-box">
					<input type="text" id="report-search" placeholder="Cerca per nome o ID paziente..."> <i class="fas fa-search"></i>
					<button type="button" id="search-button" class="search-btn">Cerca</button>
				</div>
				<div class="filter-controls">
					<!-- The date picker will be added by JavaScript -->
				</div>
			</div>
			<div class="data-table-container">
				<table class="data-table" id="reports-table">
					<thead>
					<tr>
						<th>ID</th>
						<th>Paziente</th>
						<th>Tipo</th>
						<th>Data</th>
						<th>Stato</th>
						<th>Azioni</th>
					</tr>
					</thead>
					<tbody>
					<tr>
						<td colspan="6" class="loading-cell">Caricamento dati...</td>
					</tr>
					</tbody>
				</table>
			</div>
			<div class="pagination">
				<button id="prev-page" disabled><i class="fas fa-chevron-left"></i></button>
				<span id="page-info">Pagina 1 di 1</span>
				<button id="next-page" disabled><i class="fas fa-chevron-right"></i></button>
			</div>
		</section>
		<section id="staff-section" class="content-section">
			<div class="section-header">
				<h1>Gestione Staff</h1>
				<button id="new-staff-btn" class="action-btn">
					<i class="fas fa-plus"></i> Nuovo Membro
				</button>
			</div>
			<div class="filters-bar">
				<div class="search-box">
					<input type="text" id="staff-search" placeholder="Cerca membro..."> <i class="fas fa-search"></i>
					<button type="button" id="staff-search-button" class="search-btn">Cerca</button>
				</div>
				<div class="filter-controls">
					<select id="staff-filter-role">
						<option value="">Tutti i ruoli</option>
						<option value="admin">Amministratore</option>
						<option value="doctor">Dottore</option>
						<option value="staff">Staff</option>
					</select> <select id="staff-filter-status">
					<option value="">Tutti gli stati</option>
					<option value="active">Attivo</option>
					<option value="inactive">Inattivo</option>
				</select>
				</div>
			</div>
			<div class="data-table-container">
				<table class="data-table" id="staff-table">
					<thead>
					<tr>
						<th>ID</th>
						<th>Nome</th>
						<th>Cognome</th>
						<th>Ruolo</th>
						<th>Email</th>
						<th>Stato</th>
						<th>Azioni</th>
					</tr>
					</thead>
					<tbody>
					<tr>
						<td colspan="7" class="loading-cell">Caricamento dati...</td>
					</tr>
					</tbody>
				</table>
			</div>
		</section>
		<section id="profile-section" class="content-section">
			<div class="section-header">
				<h1>Il Tuo Profilo</h1>
			</div>
			<div class="profile-container">
				<div class="profile-info">
					<div class="profile-avatar">
						<i class="fas fa-user-circle"></i>
					</div>
					<div class="profile-details">
						<h2 id="profile-name">Nome Utente</h2>
						<p id="profile-role">Ruolo</p>
						<p id="profile-email">email@example.com</p>
					</div>
				</div>
				<div class="profile-form-container">
					<h3>Informazioni Personali</h3>
					<form id="profile-form">
						<div class="form-row">
							<div class="form-group">
								<label for="profile-firstname">Nome</label> <input type="text" id="profile-firstname" name="first_name">
							</div>
							<div class="form-group">
								<label for="profile-lastname">Cognome</label> <input type="text" id="profile-lastname" name="last_name">
							</div>
						</div>
						<div class="form-row">
							<div class="form-group">
								<label for="profile-email-input">Email</label> <input type="email" id="profile-email-input" name="email">
							</div>
							<div class="form-group">
								<label for="profile-phone">Telefono</label> <input type="tel" id="profile-phone" name="phone_number">
							</div>
						</div>
						<div class="form-row">
							<div class="form-group">
								<label for="profile-specialization">Specializzazione</label> <input type="text" id="profile-specialization" name="specialization">
							</div>
							<div class="form-group">
								<label for="profile-license">Numero Licenza</label> <input type="text" id="profile-license" name="license_number">
							</div>
						</div>
						<div class="form-actions">
							<button type="submit" class="primary-btn">Salva Modifiche</button>
						</div>
					</form>
					<h3>Cambia Password</h3>
					<form id="password-form">
						<div class="form-row">
							<div class="form-group">
								<label for="current-password">Password Attuale</label> <input type="password" id="current-password" name="current_password">
							</div>
						</div>
						<div class="form-row">
							<div class="form-group">
								<label for="new-password">Nuova Password</label> <input type="password" id="new-password" name="new_password">
							</div>
							<div class="form-group">
								<label for="confirm-password">Conferma Password</label> <input type="password" id="confirm-password" name="confirm_password">
							</div>
						</div>
						<div class="form-actions">
							<button type="submit" class="primary-btn">Aggiorna Password</button>
						</div>
					</form>
				</div>
			</div>
		</section>
	</main>
</div>
<!-- Confirmation Modal -->
<div id="confirm-modal" class="modal">
	<div class="modal-content">
		<div class="modal-header">
			<h2 id="confirm-title">Conferma</h2>
			<button class="close-modal">&times;</button>
		</div>
		<div class="modal-body">
			<p id="confirm-message">Sei sicuro di voler procedere con questa azione?</p>
			<div class="form-actions">
				<button class="secondary-btn close-modal-btn">Annulla</button>
				<button id="confirm-action-btn" class="danger-btn">Conferma</button>
			</div>
		</div>
	</div>
</div>
<!-- Staff Modal -->
<div id="staff-modal" class="modal">
	<div class="modal-content">
		<div class="modal-header">
			<h2 id="staff-modal-title">Nuovo Membro Staff</h2>
			<button class="close-modal">&times;</button>
		</div>
		<div class="modal-body">
			<form id="staff-form">
				<input type="hidden" id="staff-id" name="id">
				<div class="form-row">
					<div class="form-group">
						<label for="staff-username">Nome Utente*</label>
						<input type="text" id="staff-username" name="username" required>
					</div>
					<div class="form-group password-field">
						<label for="staff-password">Password*</label>
						<input type="password" id="staff-password" name="password">
					</div>
				</div>
				<div class="form-row">
					<div class="form-group">
						<label for="staff-firstname">Nome*</label>
						<input type="text" id="staff-firstname" name="first_name" required>
					</div>
					<div class="form-group">
						<label for="staff-lastname">Cognome*</label>
						<input type="text" id="staff-lastname" name="last_name" required>
					</div>
				</div>
				<div class="form-row">
					<div class="form-group">
						<label for="staff-email">Email</label>
						<input type="email" id="staff-email" name="email">
					</div>
					<div class="form-group">
						<label for="staff-phone">Telefono</label>
						<input type="tel" id="staff-phone" name="phone_number">
					</div>
				</div>
				<div class="form-row">
					<div class="form-group">
						<label for="staff-role">Ruolo*</label>
						<select id="staff-role" name="role" required>
							<option value="staff">Staff</option>
							<option value="doctor">Dottore</option>
							<option value="admin">Amministratore</option>
						</select>
					</div>
					<div class="form-group">
						<label for="staff-status">Stato*</label>
						<select id="staff-status" name="status" required>
							<option value="active">Attivo</option>
							<option value="inactive">Inattivo</option>
						</select>
					</div>
				</div>
				<div class="form-row">
					<div class="form-group">
						<label for="staff-specialization">Specializzazione</label>
						<input type="text" id="staff-specialization" name="specialization">
					</div>
					<div class="form-group">
						<label for="staff-license">Numero Licenza</label>
						<input type="text" id="staff-license" name="license_number">
					</div>
				</div>
				<div class="form-actions">
					<button type="button" class="secondary-btn close-modal-btn">Annulla</button>
					<button type="submit" class="primary-btn">Salva</button>
				</div>
			</form>
		</div>
	</div>
</div>
<script src="dashboard-common.js"></script>
<script src="inventory.js"></script>
<script src="admin-dashboard.js"></script>
</body>
</html>
